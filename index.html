<!DOCTYPE html>
<html>
<head>

<title>Website</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="css/header.css">
<link rel="stylesheet" href="css/main.css">
<link rel="stylesheet" href="css/nav.css  ">
</head>
<body>
<header class="header">
 <h2 class="welcome"></h2>Welcome!</h2>
</header>
<nav>
  <div class="sidebar">

<div class="dropdown">
  <button class="dropbtn">Projects</button>
  <div class="dropdown-content">
  <a href="https://sudhakarmj.github.io/Youtube/" target="_blank">Youtube</a>
  <a href="https://sudhakarmj.github.io/Rock/" target="_blank">Rock</a>
  <a href="https://sudhakarmj.github.io/Todo/" target="_blank">Todo</a>
  <a href="https://sudhakarmj.github.io/calculator/" target="_blank">Calculator</a>
  <a href="https://sudhakarmj.github.io/stopwatch/" target="_blank">Stopwatch</a>
  <a href="https://sudhakarmj.github.io/Tic/" target="_blank">TicTacToe</a>
  <a href="https://sudhakarmj.github.io/Tap/" target="_blank">Tapball</a>
   </div>
  </div>

  

   <div class="links-dropdown">
    <button class="links-dropbtn">Links</button>
    <div class="links-dropdown-content">
      <a href="https://sudhakarmj.github.io/l/" target="_blank">links</a>
    </div>
   </div>

   <div class="email-dropdown">
    <button class="email-dropbtn">Email</button>
    <div class="email-dropdown-content">
      <a href="https://sudhakarmj.github.io/e/" target="_blank">Email</a>
    </div>
   </div>
   
</div>
</nav>
<main class="main">
  <h3 class="title">Todo List</h3>
  <div class="input-grid">
  <input placeholder="Todo name"
    class="js-name-input input-name">
  <input type="date"
    class="js-due-date-input due-date">
  <button class="js-add-button add-button">Add</button>
  </div>
  <div class="js-todo-list todo-list-grid"></div>
</main>
<script src="/script/index.js"></script>
<script>
    const todoList = JSON.parse(localStorage.getItem('todoList')) || [{
  name:'Check email',
  dueDate: '01/22/2023',
  checked: false
  },{
  name:'Check missed calls',
  dueDate: '01/22/2023',
  checked: true
  }];
  
  renderTodoList ();
  
  function renderTodoList () {
  let todoListHTML = '';
  
  
  todoList.forEach((todoObject, index) => {
  const { name, dueDate, checked } = todoObject;
  const html = `
  <input type = "checkbox" class="js-myCheckbox myCheckbox" ${checked ? 'checked' : ''}>
  <div>${name}</div>
  <div>${dueDate}</div>
  <button class="delete-button js-delete-button">Delete</button>`;
  
  todoListHTML += html;
  });
  
  document.querySelector('.js-todo-list')
  .innerHTML = todoListHTML;
  
  document.querySelectorAll('.js-delete-button')
  .forEach((deleteButton, index) => {
  deleteButton.addEventListener('click', () => {
  todoList.splice(index, 1);
  renderTodoList();
  saveToStorage();
  });
  
  });
  
  document.querySelectorAll('.js-myCheckbox').forEach((checkbox,index) => {
  checkbox.addEventListener('change', () => {
  todoList[index].checked = checkbox.checked;
  saveToStorage();
  })
  }
  
  )
  
  }
  
  document.querySelector('.js-add-button')
  .addEventListener('click',() => {
  addToDo();
  });
  
  
  function addToDo() {
  
  const inputElement = document.querySelector('.js-name-input');
  const name = inputElement.value;
  
  const dateInputElement = document.querySelector('.js-due-date-input');
  const dueDate = dateInputElement.value;
  
  todoList.push({
  name,
  dueDate});
  
  inputElement.value = '';
  renderTodoList ();
  saveToStorage();  
  
  } 
  
  function saveToStorage() {
  localStorage.setItem('todoList', JSON.stringify(todoList));
  }
</script>
</body>
</html>